<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Brief Compliance Checker — ND Supreme Court</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="container">
  <header>
    <h1>Appellate Brief Compliance Checker</h1>
    <p class="subtitle">North Dakota Rules of Appellate Procedure</p>
  </header>

  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="flashes">
    {% for category, message in messages %}
    <div class="flash flash-{{ category }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}

  <form action="{{ url_for('main.analyze') }}" method="post" enctype="multipart/form-data" id="upload-form">
    <div class="form-group">
      <label for="brief_type">Brief Type</label>
      <select name="brief_type" id="brief_type">
        <option value="auto" selected>Auto-detect from cover</option>
        <option value="appellant">Appellant</option>
        <option value="appellee">Appellee</option>
        <option value="reply">Reply</option>
        <option value="cross_appeal">Cross-Appeal</option>
        <option value="amicus">Amicus Curiae</option>
      </select>
    </div>

    <div class="form-group">
      <label for="pdf">Upload Brief (PDF)</label>
      <div class="drop-zone" id="drop-zone">
        <input type="file" name="pdf" id="pdf" accept=".pdf" required>
        <p class="drop-text">Drag &amp; drop a PDF here, or click to select</p>
        <p class="file-name" id="file-name"></p>
      </div>
    </div>

    <button type="submit" id="submit-btn">Analyze Brief</button>
    <div class="spinner" id="spinner" style="display:none;">
      <div class="spinner-ring"></div>
      <p>Analyzing brief — this may take a minute...</p>
    </div>
  </form>
</div>
<script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
